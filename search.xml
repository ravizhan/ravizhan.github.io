<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>ç¨‹åºå®šåˆ¶</title>
    <url>/posts/%E7%A8%8B%E5%BA%8F%E5%AE%9A%E5%88%B6.html</url>
    <content><![CDATA[<p>ç°åœ¨æ¯”è¾ƒæ— èŠï¼Œæƒ³æ¥ç‚¹é¡¹ç›®ç»ƒç»ƒæ‰‹(ä¸»è¦è¿˜æ˜¯æ²¡é’±â€¦)<br>ä»·æ ¼å¾ˆä½(0~10å…ƒ)ï¼Œå…ˆåšåä»˜æ¬¾(<strong>è¯šä¿¡</strong>)<br>æˆ‘åšå®Œçš„ä¹Ÿéƒ½ä¼šå¼€æºï¼Œä¾›å¤§å®¶ä¸‹è½½</p>
<p>è”ç³»æ–¹å¼å·¦è¾¹æœ‰ï¼Œqq/å¾®ä¿¡å¤‡æ³¨<strong>ç¨‹åºå®šåˆ¶</strong>ï¼Œæ¨èç”¨<strong>é‚®ç®±</strong><br>å†™æ¸…æ¥šä½ çš„éœ€æ±‚(ä¸è¦å¤ªè¿‡åˆ†)ï¼Œæ¨è<strong>çˆ¬è™«</strong>ç±»çš„(æ¯”è¾ƒæ‹¿æ‰‹)ï¼Œå…¶ä»–æ¯”è¾ƒåŸºç¡€çš„ä¹Ÿè¡Œ</p>
<p>è¯´ä¸‹åˆ¶ä½œæ—¶é—´å§ï¼Œå› ä¸ºæˆ‘å­¦ä¸šå‹åŠ›æ¯”è¾ƒå¤§(åˆä¸‰)ï¼Œæ‰€ä»¥æ—¶é—´ä¼šç¨é•¿ï¼Œ1~2å‘¨ï¼Œåªæœ‰å‘¨æœ«æ‰èƒ½åšï¼Œå¯’æš‘å‡çš„ç©ºé—²æ—¶é—´è¾ƒå¤šï¼Œæ‰€ä»¥æ€¥ç€è¦çš„åˆ«æ‰¾æˆ‘ï¼Œä¹Ÿä¸è¦è€æ˜¯å‚¬(æˆ‘å¥½å¯æ€œçš„â€¦)</p>
<p>åšå¥½ä¹‹åæˆ‘ä¼šå‘ä¸‹è½½é“¾æ¥ï¼Œè‡³äºè´¹ç”¨å˜›ï¼Œæˆ‘ä¼šå‘æ”¶æ¬¾ç ï¼Œç»™ä¸ç»™å°±æ˜¯ä½ çš„äº‹äº†ï¼Œæ”¾å¿ƒï¼Œä»·æ ¼ä¸ä¼šè¶…è¿‡10å…ƒã€‚<br>å½“ç„¶ä½ ä¸ç»™ä¹Ÿé—®é¢˜ä¸å¤§ï¼Œä¸‹è½½é“¾æ¥ä¸€æ ·ä¼šç»™ä½ ï¼Œè‡³äºä¸‹æ¬¡ä¼šä¸ä¼šæ¥ä½ å•å‘¢ï¼Œé‚£å°±ä¸å¥½è¯´äº†ğŸ¤ª</p>
]]></content>
      <tags>
        <tag>ç¨‹åºå®šåˆ¶</tag>
      </tags>
  </entry>
  <entry>
    <title>cf-workersçš„ä½¿ç”¨</title>
    <url>/posts/cf-workers.html</url>
    <content><![CDATA[<h2 id="whatâ€™s-cf-workers"><a href="#whatâ€™s-cf-workers" class="headerlink" title="whatâ€™s cf-workers"></a>whatâ€™s cf-workers</h2><p>Cloudflare Workerså…è®¸ä½ åœ¨Cloudflareçš„è¾¹ç¼˜èŠ‚ç‚¹è¿è¡ŒJS, Rust, C, C++ç­‰ä»£ç <br>å¹¶ä¸”æ¯å¤©æœ‰100,000æ¬¡çš„å…è´¹è¯·æ±‚ï¼Œå¯¹äºç»å¤§å¤šæ•°äººæ¥è¯´ï¼Œæ˜¯å®Œå…¨å¤Ÿç”¨çš„<br>å…·ä½“ä»‹ç»è§Cloudflare Workerså®˜ç½‘ï¼š<a href="https://workers.cloudflare.com/" target="_blank" rel="noopener">https://workers.cloudflare.com/</a></p>
<h2 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h2><blockquote>
<p>æ²¡æœ‰ Cloudflare è´¦å·çš„æå‰æ³¨å†Œä¸€ä¸ª</p>
</blockquote>
<p>æ‰“å¼€ <a href="https://workers.cloudflare.com" target="_blank" rel="noopener">https://workers.cloudflare.com</a> ,ç™»å½•ä¸Šä½ çš„ Cloudflare è´¦å·,æ¿€æ´» Workers æœåŠ¡<br>ç„¶åè‡ªå®šä¹‰ä¸€ä¸ªåŸŸåå‰ç¼€ï¼Œå°±å¯ä»¥å•¦</p>
<p>ç‚¹å‡»<code>åˆ›å»ºWorker</code>å°±å¯ä»¥æ–°å»ºä¸€ä¸ªworkeräº†<br><img data-src="https://cdn.jsdelivr.net/gh/ravizhan/ravizhan.github.io/posts/cf-workers/creat.jpg" width = "60%" /><br>ç‚¹å‡»è¿™é‡Œå°±å¯ä»¥è‡ªå®šä¹‰workerçš„åŸŸåçš„å‰ç¼€å•¦<br><img data-src="https://cdn.jsdelivr.net/gh/ravizhan/ravizhan.github.io/posts/cf-workers/1.jpg" width = "60%" /><br>ç„¶ååœ¨ä¸­é—´ç¼–å†™ä»£ç ï¼Œæœ€åç‚¹å‡»<code>ä¿å­˜å¹¶éƒ¨ç½²</code>ï¼Œå°±å®Œæˆéƒ¨ç½²äº†<br>æœ€åçš„è®¿é—®åœ°å€æ˜¯ï¼š<a href="https://workerå‰ç¼€.ä¸€å¼€å§‹è‡ªå®šä¹‰çš„å‰ç¼€.workers.devï¼Œæˆ–è€…è¿”å›ä¹Ÿèƒ½çœ‹è§è®¿é—®åœ°å€äº†" target="_blank" rel="noopener">https://workerå‰ç¼€.ä¸€å¼€å§‹è‡ªå®šä¹‰çš„å‰ç¼€.workers.devï¼Œæˆ–è€…è¿”å›ä¹Ÿèƒ½çœ‹è§è®¿é—®åœ°å€äº†</a><br><img data-src="https://cdn.jsdelivr.net/gh/ravizhan/ravizhan.github.io/posts/cf-workers/2.jpg" width = "60%" /></p>
<h2 id="ç¤ºä¾‹ä»£ç "><a href="#ç¤ºä¾‹ä»£ç " class="headerlink" title="ç¤ºä¾‹ä»£ç "></a>ç¤ºä¾‹ä»£ç </h2><blockquote>
<p>æ˜¯ä¸æ˜¯å¾ˆç®€å•å‘¢ï¼Œä¸‹é¢æœ‰ä¸€äº›å®ç”¨çš„ä»£ç ï¼Œå¯ä»¥éƒ¨ç½²æ¥ç©ç©</p>
</blockquote>
<h3 id="1ã€åå‘ä»£ç†"><a href="#1ã€åå‘ä»£ç†" class="headerlink" title="1ã€åå‘ä»£ç†"></a>1ã€åå‘ä»£ç†</h3><blockquote>
<p>è¿™ä¸ªä»£ç ç†è®ºä¸Šå¯ä»¥å®ç°åä»£ä»»æ„ç½‘ç«™<br>ä¸çŸ¥é“åå‘ä»£ç†çš„ <a href="https://url.cn/tMaCMpgn" target="_blank" rel="noopener">https://url.cn/tMaCMpgn</a><br>github: <a href="https://github.com/xiaoyang-liu-cs/workers-proxy" target="_blank" rel="noopener">https://github.com/xiaoyang-liu-cs/workers-proxy</a></p>
</blockquote>
<div><div class="fold_hider"><div class="close hider_title">ç‚¹å‡»æ˜¾/éšå†…å®¹</div></div><div class="fold">
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è¦è¿›è¡Œåå‘ä»£ç†çš„ç½‘ç«™</span></span><br><span class="line"><span class="keyword">const</span> upstream = <span class="string">'example.com'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è¦è¿›è¡Œä»£ç†çš„è·¯å¾„(ä¸€èˆ¬ä¸ç”¨æ”¹)</span></span><br><span class="line"><span class="keyword">const</span> upstream_path = <span class="string">'/'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è¦è¿›è¡Œåå‘ä»£ç†çš„ç½‘ç«™çš„ç§»åŠ¨ç«™(ä¸€èˆ¬è·Ÿä¸Šé¢ä¸€æ ·å°±è¡Œ)</span></span><br><span class="line"><span class="keyword">const</span> upstream_mobile = <span class="string">'example.com'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½ å¸Œæœ›ç¦æ­¢è®¿é—®çš„å›½å®¶/åœ°åŒº</span></span><br><span class="line"><span class="keyword">const</span> blocked_region = [<span class="string">'KP'</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½ å¸Œæœ›ç¦æ­¢è®¿é—®çš„ip</span></span><br><span class="line"><span class="keyword">const</span> blocked_ip_address = [<span class="string">'127.0.0.1'</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ˜¯å¦ä½¿ç”¨httpsä¸æºç«™è¿æ¥(ä¸€èˆ¬ä¸ç”¨æ”¹ï¼Œç°åœ¨å¤§éƒ¨åˆ†ç½‘ç«™éƒ½æ”¯æŒhttpsäº†)</span></span><br><span class="line"><span class="keyword">const</span> https = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ›¿æ¢æ–‡æœ¬</span></span><br><span class="line"><span class="keyword">const</span> replace_dict = &#123;</span><br><span class="line">    <span class="string">'$upstream'</span>: <span class="string">'$custom_domain'</span>,</span><br><span class="line">    <span class="string">'//www.youtube.com'</span>: <span class="string">''</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">addEventListener(<span class="string">'fetch'</span>, event =&gt; &#123;</span><br><span class="line">    event.respondWith(fetchAndApply(event.request));</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">fetchAndApply</span>(<span class="params">request</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> region = request.headers.get(<span class="string">'cf-ipcountry'</span>).toUpperCase();</span><br><span class="line">    <span class="keyword">const</span> ip_address = request.headers.get(<span class="string">'cf-connecting-ip'</span>);</span><br><span class="line">    <span class="keyword">const</span> user_agent = request.headers.get(<span class="string">'user-agent'</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> response = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">let</span> url = <span class="keyword">new</span> URL(request.url);</span><br><span class="line">    <span class="keyword">let</span> url_hostname = url.hostname;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (https == <span class="literal">true</span>) &#123;</span><br><span class="line">        url.protocol = <span class="string">'https:'</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        url.protocol = <span class="string">'http:'</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">await</span> device_status(user_agent)) &#123;</span><br><span class="line">        <span class="keyword">var</span> upstream_domain = upstream;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> upstream_domain = upstream_mobile;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    url.host = upstream_domain;</span><br><span class="line">    <span class="keyword">if</span> (url.pathname == <span class="string">'/'</span>) &#123;</span><br><span class="line">        url.pathname = upstream_path;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        url.pathname = upstream_path + url.pathname;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (blocked_region.includes(region)) &#123;</span><br><span class="line">        response = <span class="keyword">new</span> Response(<span class="string">'Access denied: WorkersProxy is not available in your region yet.'</span>, &#123;</span><br><span class="line">            status: <span class="number">403</span></span><br><span class="line">        &#125;);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (blocked_ip_address.includes(ip_address)) &#123;</span><br><span class="line">        response = <span class="keyword">new</span> Response(<span class="string">'Access denied: Your IP address is blocked by WorkersProxy.'</span>, &#123;</span><br><span class="line">            status: <span class="number">403</span></span><br><span class="line">        &#125;);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> method = request.method;</span><br><span class="line">        <span class="keyword">let</span> request_headers = request.headers;</span><br><span class="line">        <span class="keyword">let</span> new_request_headers = <span class="keyword">new</span> Headers(request_headers);</span><br><span class="line"></span><br><span class="line">        new_request_headers.set(<span class="string">'Host'</span>, url.hostname);</span><br><span class="line">        new_request_headers.set(<span class="string">'Referer'</span>, url.hostname);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> original_response = <span class="keyword">await</span> fetch(url.href, &#123;</span><br><span class="line">            method: method,</span><br><span class="line">            headers: new_request_headers</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> original_response_clone = original_response.clone();</span><br><span class="line">        <span class="keyword">let</span> original_text = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">let</span> response_headers = original_response.headers;</span><br><span class="line">        <span class="keyword">let</span> new_response_headers = <span class="keyword">new</span> Headers(response_headers);</span><br><span class="line">        <span class="keyword">let</span> status = original_response.status;</span><br><span class="line"></span><br><span class="line">        new_response_headers.set(<span class="string">'access-control-allow-origin'</span>, <span class="string">'*'</span>);</span><br><span class="line">        new_response_headers.set(<span class="string">'access-control-allow-credentials'</span>, <span class="literal">true</span>);</span><br><span class="line">        new_response_headers.delete(<span class="string">'content-security-policy'</span>);</span><br><span class="line">        new_response_headers.delete(<span class="string">'content-security-policy-report-only'</span>);</span><br><span class="line">        new_response_headers.delete(<span class="string">'clear-site-data'</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">const</span> content_type = new_response_headers.get(<span class="string">'content-type'</span>);</span><br><span class="line">        <span class="keyword">if</span> (content_type.includes(<span class="string">'text/html'</span>) &amp;&amp; content_type.includes(<span class="string">'UTF-8'</span>)) &#123;</span><br><span class="line">            original_text = <span class="keyword">await</span> replace_response_text(original_response_clone, upstream_domain, url_hostname);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            original_text = original_response_clone.body</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        response = <span class="keyword">new</span> Response(original_text, &#123;</span><br><span class="line">            status,</span><br><span class="line">            headers: new_response_headers</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> response;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">replace_response_text</span>(<span class="params">response, upstream_domain, host_name</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> text = <span class="keyword">await</span> response.text()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> i, j;</span><br><span class="line">    <span class="keyword">for</span> (i <span class="keyword">in</span> replace_dict) &#123;</span><br><span class="line">        j = replace_dict[i]</span><br><span class="line">        <span class="keyword">if</span> (i == <span class="string">'$upstream'</span>) &#123;</span><br><span class="line">            i = upstream_domain</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (i == <span class="string">'$custom_domain'</span>) &#123;</span><br><span class="line">            i = host_name</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (j == <span class="string">'$upstream'</span>) &#123;</span><br><span class="line">            j = upstream_domain</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (j == <span class="string">'$custom_domain'</span>) &#123;</span><br><span class="line">            j = host_name</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> re = <span class="keyword">new</span> <span class="built_in">RegExp</span>(i, <span class="string">'g'</span>)</span><br><span class="line">        text = text.replace(re, j);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> text;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">device_status</span>(<span class="params">user_agent_info</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> agents = [<span class="string">"Android"</span>, <span class="string">"iPhone"</span>, <span class="string">"SymbianOS"</span>, <span class="string">"Windows Phone"</span>, <span class="string">"iPad"</span>, <span class="string">"iPod"</span>];</span><br><span class="line">    <span class="keyword">var</span> flag = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> v = <span class="number">0</span>; v &lt; agents.length; v++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (user_agent_info.indexOf(agents[v]) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            flag = <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> flag;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</div></div>

<p>å°†ä¸Šé¢çš„ä¸¤å¤„<code>example.com</code>æ”¹æˆä½ æƒ³è¦è¿›è¡Œåä»£çš„ç½‘ç«™åŸŸåå³å¯</p>
<h3 id="jsproxy"><a href="#jsproxy" class="headerlink" title="jsproxy"></a>jsproxy</h3><blockquote>
<p>è¯¥æºç å¯å®ç°åœ¨çº¿ä»£ç†(ç¿»å¢™)<br>ä¸æ˜¯æ‰€æœ‰ç½‘ç«™å¯ç”¨<br>github:<a href="https://github.com/EtherDream/jsproxy" target="_blank" rel="noopener">https://github.com/EtherDream/jsproxy</a></p>
</blockquote>
<div><div class="fold_hider"><div class="close hider_title">ç‚¹å‡»æ˜¾/éšå†…å®¹</div></div><div class="fold">
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="meta">'use strict'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * static files (404.html, sw.js, conf.js)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> ASSET_URL = <span class="string">'https://etherdream.github.io/jsproxy'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> JS_VER = <span class="number">10</span></span><br><span class="line"><span class="keyword">const</span> MAX_RETRY = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/** <span class="doctag">@type <span class="type">&#123;RequestInit&#125;</span> </span>*/</span></span><br><span class="line"><span class="keyword">const</span> PREFLIGHT_INIT = &#123;</span><br><span class="line">  status: <span class="number">204</span>,</span><br><span class="line">  headers: <span class="keyword">new</span> Headers(&#123;</span><br><span class="line">    <span class="string">'access-control-allow-origin'</span>: <span class="string">'*'</span>,</span><br><span class="line">    <span class="string">'access-control-allow-methods'</span>: <span class="string">'GET,POST,PUT,PATCH,TRACE,DELETE,HEAD,OPTIONS'</span>,</span><br><span class="line">    <span class="string">'access-control-max-age'</span>: <span class="string">'1728000'</span>,</span><br><span class="line">  &#125;),</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;any&#125;</span> <span class="variable">body</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;number&#125;</span> <span class="variable">status</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;Object&lt;string, string&gt;&#125;</span> <span class="variable">headers</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">makeRes</span>(<span class="params">body, status = <span class="number">200</span>, headers = &#123;&#125;</span>) </span>&#123;</span><br><span class="line">  headers[<span class="string">'--ver'</span>] = JS_VER</span><br><span class="line">  headers[<span class="string">'access-control-allow-origin'</span>] = <span class="string">'*'</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> Response(body, &#123;status, headers&#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string&#125;</span> </span>urlStr </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">newUrl</span>(<span class="params">urlStr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> URL(urlStr)</span><br><span class="line">  &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">addEventListener(<span class="string">'fetch'</span>, e =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> ret = fetchHandler(e)</span><br><span class="line">    .catch(<span class="function"><span class="params">err</span> =&gt;</span> makeRes(<span class="string">'cfworker error:\n'</span> + err.stack, <span class="number">502</span>))</span><br><span class="line">  e.respondWith(ret)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;FetchEvent&#125;</span> </span>e </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">fetchHandler</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> req = e.request</span><br><span class="line">  <span class="keyword">const</span> urlStr = req.url</span><br><span class="line">  <span class="keyword">const</span> urlObj = <span class="keyword">new</span> URL(urlStr)</span><br><span class="line">  <span class="keyword">const</span> path = urlObj.href.substr(urlObj.origin.length)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (urlObj.protocol === <span class="string">'http:'</span>) &#123;</span><br><span class="line">    urlObj.protocol = <span class="string">'https:'</span></span><br><span class="line">    <span class="keyword">return</span> makeRes(<span class="string">''</span>, <span class="number">301</span>, &#123;</span><br><span class="line">      <span class="string">'strict-transport-security'</span>: <span class="string">'max-age=99999999; includeSubDomains; preload'</span>,</span><br><span class="line">      <span class="string">'location'</span>: urlObj.href,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (path.startsWith(<span class="string">'/http/'</span>)) &#123;</span><br><span class="line">    <span class="keyword">return</span> httpHandler(req, path.substr(<span class="number">6</span>))</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">switch</span> (path) &#123;</span><br><span class="line">  <span class="keyword">case</span> <span class="string">'/http'</span>:</span><br><span class="line">    <span class="keyword">return</span> makeRes(<span class="string">'è¯·æ›´æ–° cfworker åˆ°æœ€æ–°ç‰ˆæœ¬!'</span>)</span><br><span class="line">  <span class="keyword">case</span> <span class="string">'/ws'</span>:</span><br><span class="line">    <span class="keyword">return</span> makeRes(<span class="string">'not support'</span>, <span class="number">400</span>)</span><br><span class="line">  <span class="keyword">case</span> <span class="string">'/works'</span>:</span><br><span class="line">    <span class="keyword">return</span> makeRes(<span class="string">'it works'</span>)</span><br><span class="line">  <span class="keyword">default</span>:</span><br><span class="line">    <span class="comment">// static files</span></span><br><span class="line">    <span class="keyword">return</span> fetch(ASSET_URL + path)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;Request&#125;</span> <span class="variable">req</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string&#125;</span> <span class="variable">pathname</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">httpHandler</span>(<span class="params">req, pathname</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> reqHdrRaw = req.headers</span><br><span class="line">  <span class="keyword">if</span> (reqHdrRaw.has(<span class="string">'x-jsproxy'</span>)) &#123;</span><br><span class="line">    <span class="keyword">return</span> Response.error()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// preflight</span></span><br><span class="line">  <span class="keyword">if</span> (req.method === <span class="string">'OPTIONS'</span> &amp;&amp;</span><br><span class="line">      reqHdrRaw.has(<span class="string">'access-control-request-headers'</span>)</span><br><span class="line">  ) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Response(<span class="literal">null</span>, PREFLIGHT_INIT)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> acehOld = <span class="literal">false</span></span><br><span class="line">  <span class="keyword">let</span> rawSvr = <span class="string">''</span></span><br><span class="line">  <span class="keyword">let</span> rawLen = <span class="string">''</span></span><br><span class="line">  <span class="keyword">let</span> rawEtag = <span class="string">''</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> reqHdrNew = <span class="keyword">new</span> Headers(reqHdrRaw)</span><br><span class="line">  reqHdrNew.set(<span class="string">'x-jsproxy'</span>, <span class="string">'1'</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ­¤å¤„é€»è¾‘å’Œ http-dec-req-hdr.lua å¤§è‡´ç›¸åŒ</span></span><br><span class="line">  <span class="comment">// https://github.com/EtherDream/jsproxy/blob/master/lua/http-dec-req-hdr.lua</span></span><br><span class="line">  <span class="keyword">const</span> refer = reqHdrNew.get(<span class="string">'referer'</span>)</span><br><span class="line">  <span class="keyword">const</span> query = refer.substr(refer.indexOf(<span class="string">'?'</span>) + <span class="number">1</span>)</span><br><span class="line">  <span class="keyword">if</span> (!query) &#123;</span><br><span class="line">    <span class="keyword">return</span> makeRes(<span class="string">'missing params'</span>, <span class="number">403</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> param = <span class="keyword">new</span> URLSearchParams(query)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> [k, v] <span class="keyword">of</span> <span class="built_in">Object</span>.entries(param)) &#123;</span><br><span class="line">    <span class="keyword">if</span> (k.substr(<span class="number">0</span>, <span class="number">2</span>) === <span class="string">'--'</span>) &#123;</span><br><span class="line">      <span class="comment">// ç³»ç»Ÿä¿¡æ¯</span></span><br><span class="line">      <span class="keyword">switch</span> (k.substr(<span class="number">2</span>)) &#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">'aceh'</span>:</span><br><span class="line">        acehOld = <span class="literal">true</span></span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">      <span class="keyword">case</span> <span class="string">'raw-info'</span>:</span><br><span class="line">        [rawSvr, rawLen, rawEtag] = v.split(<span class="string">'|'</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// è¿˜åŸ HTTP è¯·æ±‚å¤´</span></span><br><span class="line">      <span class="keyword">if</span> (v) &#123;</span><br><span class="line">        reqHdrNew.set(k, v)</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        reqHdrNew.delete(k)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (!param.has(<span class="string">'referer'</span>)) &#123;</span><br><span class="line">    reqHdrNew.delete(<span class="string">'referer'</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// cfworker ä¼šæŠŠè·¯å¾„ä¸­çš„ `//` åˆå¹¶æˆ `/`</span></span><br><span class="line">  <span class="keyword">const</span> urlStr = pathname.replace(<span class="regexp">/^(https?):\/+/</span>, <span class="string">'$1://'</span>)</span><br><span class="line">  <span class="keyword">const</span> urlObj = newUrl(urlStr)</span><br><span class="line">  <span class="keyword">if</span> (!urlObj) &#123;</span><br><span class="line">    <span class="keyword">return</span> makeRes(<span class="string">'invalid proxy url: '</span> + urlStr, <span class="number">403</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/** <span class="doctag">@type <span class="type">&#123;RequestInit&#125;</span> </span>*/</span></span><br><span class="line">  <span class="keyword">const</span> reqInit = &#123;</span><br><span class="line">    method: req.method,</span><br><span class="line">    headers: reqHdrNew,</span><br><span class="line">    redirect: <span class="string">'manual'</span>,</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (req.method === <span class="string">'POST'</span>) &#123;</span><br><span class="line">    reqInit.body = req.body</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> proxy(urlObj, reqInit, acehOld, rawLen, <span class="number">0</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;URL&#125;</span> </span>urlObj </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;RequestInit&#125;</span> </span>reqInit </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;number&#125;</span> </span>retryTimes </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">proxy</span>(<span class="params">urlObj, reqInit, acehOld, rawLen, retryTimes</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> res = <span class="keyword">await</span> fetch(urlObj.href, reqInit)</span><br><span class="line">  <span class="keyword">const</span> resHdrOld = res.headers</span><br><span class="line">  <span class="keyword">const</span> resHdrNew = <span class="keyword">new</span> Headers(resHdrOld)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> expose = <span class="string">'*'</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> [k, v] <span class="keyword">of</span> resHdrOld.entries()) &#123;</span><br><span class="line">    <span class="keyword">if</span> (k === <span class="string">'access-control-allow-origin'</span> ||</span><br><span class="line">        k === <span class="string">'access-control-expose-headers'</span> ||</span><br><span class="line">        k === <span class="string">'location'</span> ||</span><br><span class="line">        k === <span class="string">'set-cookie'</span></span><br><span class="line">    ) &#123;</span><br><span class="line">      <span class="keyword">const</span> x = <span class="string">'--'</span> + k</span><br><span class="line">      resHdrNew.set(x, v)</span><br><span class="line">      <span class="keyword">if</span> (acehOld) &#123;</span><br><span class="line">        expose = expose + <span class="string">','</span> + x</span><br><span class="line">      &#125;</span><br><span class="line">      resHdrNew.delete(k)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (acehOld &amp;&amp;</span><br><span class="line">      k !== <span class="string">'cache-control'</span> &amp;&amp;</span><br><span class="line">      k !== <span class="string">'content-language'</span> &amp;&amp;</span><br><span class="line">      k !== <span class="string">'content-type'</span> &amp;&amp;</span><br><span class="line">      k !== <span class="string">'expires'</span> &amp;&amp;</span><br><span class="line">      k !== <span class="string">'last-modified'</span> &amp;&amp;</span><br><span class="line">      k !== <span class="string">'pragma'</span></span><br><span class="line">    ) &#123;</span><br><span class="line">      expose = expose + <span class="string">','</span> + k</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (acehOld) &#123;</span><br><span class="line">    expose = expose + <span class="string">',--s'</span></span><br><span class="line">    resHdrNew.set(<span class="string">'--t'</span>, <span class="string">'1'</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// verify</span></span><br><span class="line">  <span class="keyword">if</span> (rawLen) &#123;</span><br><span class="line">    <span class="keyword">const</span> newLen = resHdrOld.get(<span class="string">'content-length'</span>) || <span class="string">''</span></span><br><span class="line">    <span class="keyword">const</span> badLen = (rawLen !== newLen)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (badLen) &#123;</span><br><span class="line">      <span class="keyword">if</span> (retryTimes &lt; MAX_RETRY) &#123;</span><br><span class="line">        urlObj = <span class="keyword">await</span> parseYtVideoRedir(urlObj, newLen, res)</span><br><span class="line">        <span class="keyword">if</span> (urlObj) &#123;</span><br><span class="line">          <span class="keyword">return</span> proxy(urlObj, reqInit, acehOld, rawLen, retryTimes + <span class="number">1</span>)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> makeRes(res.body, <span class="number">400</span>, &#123;</span><br><span class="line">        <span class="string">'--error'</span>: <span class="string">`bad len: <span class="subst">$&#123;newLen&#125;</span>, except: <span class="subst">$&#123;rawLen&#125;</span>`</span>,</span><br><span class="line">        <span class="string">'access-control-expose-headers'</span>: <span class="string">'--error'</span>,</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (retryTimes &gt; <span class="number">1</span>) &#123;</span><br><span class="line">      resHdrNew.set(<span class="string">'--retry'</span>, retryTimes)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> status = res.status</span><br><span class="line"></span><br><span class="line">  resHdrNew.set(<span class="string">'access-control-expose-headers'</span>, expose)</span><br><span class="line">  resHdrNew.set(<span class="string">'access-control-allow-origin'</span>, <span class="string">'*'</span>)</span><br><span class="line">  resHdrNew.set(<span class="string">'--s'</span>, status)</span><br><span class="line">  resHdrNew.set(<span class="string">'--ver'</span>, JS_VER)</span><br><span class="line"></span><br><span class="line">  resHdrNew.delete(<span class="string">'content-security-policy'</span>)</span><br><span class="line">  resHdrNew.delete(<span class="string">'content-security-policy-report-only'</span>)</span><br><span class="line">  resHdrNew.delete(<span class="string">'clear-site-data'</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (status === <span class="number">301</span> ||</span><br><span class="line">      status === <span class="number">302</span> ||</span><br><span class="line">      status === <span class="number">303</span> ||</span><br><span class="line">      status === <span class="number">307</span> ||</span><br><span class="line">      status === <span class="number">308</span></span><br><span class="line">  ) &#123;</span><br><span class="line">    status = status + <span class="number">10</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> Response(res.body, &#123;</span><br><span class="line">    status,</span><br><span class="line">    headers: resHdrNew,</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;URL&#125;</span> </span>urlObj </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isYtUrl</span>(<span class="params">urlObj</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    urlObj.host.endsWith(<span class="string">'.googlevideo.com'</span>) &amp;&amp;</span><br><span class="line">    urlObj.pathname.startsWith(<span class="string">'/videoplayback'</span>)</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;URL&#125;</span> </span>urlObj </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;number&#125;</span> </span>newLen </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;Response&#125;</span> </span>res </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">parseYtVideoRedir</span>(<span class="params">urlObj, newLen, res</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (newLen &gt; <span class="number">2000</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (!isYtUrl(urlObj)) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> data = <span class="keyword">await</span> res.text()</span><br><span class="line">    urlObj = <span class="keyword">new</span> URL(data)</span><br><span class="line">  &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (!isYtUrl(urlObj)) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> urlObj</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</div></div>
<p>ç„¶åè®¿é—®è‡ªå®šä¹‰çš„ç½‘å€å³å¯ï¼Œæ˜¯ä¸æ˜¯å¾ˆç¥å¥‡å‘¢<br>åé¢ä¼šä»‹ç»å¦‚ä½•è‡ªå®šä¹‰åŸŸå<br>æœ€ç»ˆæ•ˆæœå¦‚å›¾â†“<br><img data-src="https://cdn.jsdelivr.net/gh/ravizhan/ravizhan.github.io/posts/cf-workers/jsproxy.jpg" width = "60%" /></p>
<h3 id="CF-Worker-Dir"><a href="#CF-Worker-Dir" class="headerlink" title="CF-Worker-Dir"></a>CF-Worker-Dir</h3><blockquote>
<p>CF-Worker-Diræ˜¯ä¸€æ¬¾é€‚ç”¨äºCloudflare Workerå¹³å°ä¸Šçš„äº‘å‡½æ•°ç¨‹åºï¼Œå¯ä»¥ä½¿ç”¨å®ƒåœ¨ä¸€åˆ†é’Ÿå†…æ­å»ºå±äºè‡ªå·±çš„å¯¼èˆªé¡µé¢ã€‚<br>github:<a href="https://github.com/sleepwood/CF-Worker-Dir" target="_blank" rel="noopener">https://github.com/sleepwood/CF-Worker-Dir</a></p>
</blockquote>
<div><div class="fold_hider"><div class="close hider_title">ç‚¹å‡»æ˜¾/éšå†…å®¹</div></div><div class="fold">
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  è‡ªå®šä¹‰ç½‘ç«™é…ç½® </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  title: <span class="string">"è‡ªå®šä¹‰å¯¼èˆª"</span>,                 <span class="comment">//write your website title</span></span><br><span class="line">  subtitle: <span class="string">"Cloudflare Workers Dir"</span>, <span class="comment">//write your website subtitle</span></span><br><span class="line">  logo_icon: <span class="string">"sitemap"</span>,               <span class="comment">//select your logo by semantic-ui icon (you can get more msg in:https://semantic-ui.com/elements/icon.html)</span></span><br><span class="line">  hitokoto: <span class="literal">true</span>,                     <span class="comment">//use hitokoto or not</span></span><br><span class="line">  search:<span class="literal">true</span>,                        <span class="comment">//enable search function</span></span><br><span class="line">  search_engine:[                     <span class="comment">//choose search engine which you use</span></span><br><span class="line">    &#123;</span><br><span class="line">      name:<span class="string">"ç™¾ åº¦"</span>,</span><br><span class="line">      template:<span class="string">"https://www.baidu.com/s?wd=$s"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      name:<span class="string">"è°· æ­Œ"</span>,</span><br><span class="line">      template:<span class="string">"https://www.google.com/search?q=$s"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      name:<span class="string">"å¿… åº”"</span>,</span><br><span class="line">      template:<span class="string">"https://www.bing.com/search?q=$s"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      name:<span class="string">"æœ ç‹—"</span>,</span><br><span class="line">      template:<span class="string">"https://www.sogou.com/web?query=$s"</span></span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  selling_ads: <span class="literal">true</span>,                  <span class="comment">//Selling your domain or not.(turning on may be helpful for selling this domain by showing some ads.)</span></span><br><span class="line">  sell_info:&#123;</span><br><span class="line">    domain:<span class="string">"example.com"</span>,</span><br><span class="line">    price:<span class="number">500</span>,                        <span class="comment">//domain price</span></span><br><span class="line">    mon_unit:<span class="string">"yen sign"</span>,              <span class="comment">//monetary unit </span></span><br><span class="line">    contact:[                         <span class="comment">//how to contact you</span></span><br><span class="line">      &#123;</span><br><span class="line">        type:<span class="string">"envelope"</span>,               <span class="comment">//contact type ("weixin","qq","telegram plane","envelope" or "phone")</span></span><br><span class="line">        content:<span class="string">"info@example.com"</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]                        </span><br><span class="line">  &#125;,</span><br><span class="line">  lists: [                            <span class="comment">//Url list</span></span><br><span class="line">    &#123;</span><br><span class="line">      name:<span class="string">"æŠ€æœ¯"</span>,</span><br><span class="line">      icon:<span class="string">"code"</span>,</span><br><span class="line">      list:[</span><br><span class="line">        &#123;</span><br><span class="line">          url:<span class="string">"https://oschina.net/"</span>,</span><br><span class="line">          name:<span class="string">"å¼€æºä¸­å›½"</span>,</span><br><span class="line">          desc:<span class="string">"ç¨‹åºå‘˜é›†æ•£åœ°"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          url:<span class="string">"https://v2ex.com"</span>,</span><br><span class="line">          name:<span class="string">"V2EX"</span>,</span><br><span class="line">          desc:<span class="string">"ç¨‹åºå‘˜é›†æ•£åœ°"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          url:<span class="string">"https://csdn.net/"</span>,</span><br><span class="line">          name:<span class="string">"CSDNæŠ€æœ¯ç¤¾åŒº"</span>,</span><br><span class="line">          desc:<span class="string">"ç¨‹åºå‘˜é›†æ•£åœ°"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          url:<span class="string">"https://github.com/"</span>,</span><br><span class="line">          name:<span class="string">"Github"</span>,</span><br><span class="line">          desc:<span class="string">"ç¨‹åºå‘˜é›†æ•£åœ°"</span></span><br><span class="line">        &#125;,</span><br><span class="line">      ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      name:<span class="string">"å­¦ä¹ "</span>,</span><br><span class="line">      icon:<span class="string">"graduation cap"</span>,</span><br><span class="line">      list:[</span><br><span class="line">        &#123;</span><br><span class="line">          url:<span class="string">"https://w3school.com.cn/"</span>,</span><br><span class="line">          name:<span class="string">"W3schoolåœ¨çº¿æ•™ç¨‹"</span>,</span><br><span class="line">          desc:<span class="string">"ç¨‹åºå‘˜é›†æ•£åœ°"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          url:<span class="string">"https://runoob.com/"</span>,</span><br><span class="line">          name:<span class="string">"èœé¸Ÿæ•™ç¨‹"</span>,</span><br><span class="line">          desc:<span class="string">"ç¨‹åºå‘˜é›†æ•£åœ°"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          url:<span class="string">"https://segmentfault.com/"</span>,</span><br><span class="line">          name:<span class="string">"æ€å¦ç¤¾åŒº"</span>,</span><br><span class="line">          desc:<span class="string">"ç¨‹åºå‘˜é›†æ•£åœ°"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          url:<span class="string">"https://jianshu.com/"</span>,</span><br><span class="line">          name:<span class="string">"ç®€ä¹¦"</span>,</span><br><span class="line">          desc:<span class="string">"ç¨‹åºå‘˜é›†æ•£åœ°"</span></span><br><span class="line">        &#125;,</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> el = <span class="function">(<span class="params">tag, attrs, content</span>) =&gt;</span> <span class="string">`&lt;<span class="subst">$&#123;tag&#125;</span> <span class="subst">$&#123;attrs.join(<span class="string">" "</span>)&#125;</span>&gt;<span class="subst">$&#123;content&#125;</span>&lt;/<span class="subst">$&#123;tag&#125;</span>&gt;`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">handleRequest</span>(<span class="params">request</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> init = &#123;</span><br><span class="line">    headers: &#123;</span><br><span class="line">      <span class="string">'content-type'</span>: <span class="string">'text/html;charset=UTF-8'</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> Response(renderHTML(renderIndex(),config.selling_ads? renderSeller() :<span class="literal">null</span>), init);</span><br><span class="line">&#125;</span><br><span class="line">addEventListener(<span class="string">'fetch'</span>, event =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> event.respondWith(handleRequest(event.request))</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">/*é€šè¿‡åˆ†æé“¾æ¥ å®æ—¶è·å–favicon</span></span><br><span class="line"><span class="comment">* @url éœ€è¦åˆ†æçš„Urlåœ°å€</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getFavicon</span>(<span class="params">url</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(url.match(<span class="regexp">/https&#123;0,1&#125;:\/\//</span>))&#123;</span><br><span class="line">    <span class="comment">//return "https://ui-avatars.com/api/?bold=true&amp;size=36&amp;background=0D8ABC&amp;color=fff&amp;rounded=true&amp;name=" + url.split('//')[1];</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">"https://www.google.cn/s2/favicons?sz=64&amp;domain_url="</span> + url;</span><br><span class="line">  &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="comment">//return "https://ui-avatars.com/api/?bold=true&amp;size=36&amp;background=0D8ABC&amp;color=fff&amp;rounded=true&amp;name=" + url;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">"https://www.google.cn/s2/favicons?sz=64&amp;domain_url=http://"</span> + url;</span><br><span class="line">  &#125; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/** Render Functions</span></span><br><span class="line"><span class="comment"> *  æ¸²æŸ“æ¨¡å—å‡½æ•°</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">renderIndex</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">const</span> footer = el(<span class="string">'footer'</span>,[],el(<span class="string">'div'</span>,[<span class="string">'class="footer"'</span>],<span class="string">'Powered by'</span> + el(<span class="string">'a'</span>,[<span class="string">'class="ui label"'</span>,<span class="string">'href="https://github.com/sleepwood/cf-worker-dir"'</span>,<span class="string">'target="_blank"'</span>],el(<span class="string">'i'</span>,[<span class="string">'class="github icon"'</span>],<span class="string">""</span>) + <span class="string">'Cf-Worker-Dir'</span>) + <span class="string">' &amp;copy; Base on '</span> + el(<span class="string">'a'</span>,[<span class="string">'class="ui label"'</span>],el(<span class="string">'i'</span>,[<span class="string">'class="balance scale icon"'</span>],<span class="string">""</span>) + <span class="string">'MIT License'</span>)));</span><br><span class="line">  <span class="keyword">return</span> renderHeader() + renderMain() + footer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">renderHeader</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">const</span> item = <span class="function">(<span class="params">template,name</span>) =&gt;</span> el(<span class="string">'a'</span>,[<span class="string">'class="item"'</span>,<span class="string">`data-url="<span class="subst">$&#123;template&#125;</span>"`</span>],name);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> nav = el(<span class="string">'div'</span>,[<span class="string">'class="ui large secondary inverted menu"'</span>],el(<span class="string">'div'</span>,[<span class="string">'class="item"'</span>],el(<span class="string">'p'</span>,[<span class="string">'id="hitokoto"'</span>],<span class="string">'æ¡æ¡å¤§è·¯é€šç½—é©¬'</span>)))</span><br><span class="line">  <span class="keyword">var</span> title = el(<span class="string">'h1'</span>,[<span class="string">'class="ui inverted header"'</span>],el(<span class="string">'i'</span>,[<span class="string">`class="<span class="subst">$&#123;config.logo_icon&#125;</span> icon"`</span>],<span class="string">""</span>) + el(<span class="string">'div'</span>,[<span class="string">'class="content"'</span>],config.title + el(<span class="string">'div'</span>,[<span class="string">'class="sub header"'</span>],config.subtitle)));</span><br><span class="line">  <span class="keyword">var</span> menu = el(<span class="string">'div'</span>,[<span class="string">'id="sengine"'</span>,<span class="string">'class="ui bottom attached tabular inverted secondary menu"'</span>],el(<span class="string">'div'</span>,[<span class="string">'class="header item"'</span>],<span class="string">'&amp;nbsp;'</span>) + config.search_engine.map(<span class="function">(<span class="params">link,key</span>) =&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(key == <span class="number">0</span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> el(<span class="string">'a'</span>,[<span class="string">'class="active item"'</span>,<span class="string">`data-url="<span class="subst">$&#123;link.template&#125;</span>"`</span>],link.name);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> item(link.template,link.name);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;).join(<span class="string">""</span>))</span><br><span class="line">  <span class="keyword">var</span> input = el(<span class="string">'div'</span>,[<span class="string">'class="ui left corner labeled right icon fluid large input"'</span>],el(<span class="string">'div'</span>,[<span class="string">'class="ui left corner label"'</span>],el(<span class="string">'img'</span>,[<span class="string">'id="search-fav"'</span>,<span class="string">'class="left floated avatar ui image"'</span>,<span class="string">'src="https://www.baidu.com/favicon.ico"'</span>],<span class="string">""</span>)) + el(<span class="string">'input'</span>,[<span class="string">'id="searchinput"'</span>,<span class="string">'type="search"'</span>,<span class="string">'placeholder="æœç´¢ä½ æƒ³è¦çŸ¥é“çš„â€¦â€¦"'</span>,<span class="string">'autocomplete="off"'</span>],<span class="string">""</span>) + el(<span class="string">'i'</span>,[<span class="string">'class="inverted circular search link icon"'</span>],<span class="string">""</span>));</span><br><span class="line">  <span class="keyword">return</span> el(<span class="string">'header'</span>,[],el(<span class="string">'div'</span>,[<span class="string">'id="head"'</span>,<span class="string">'class="ui inverted vertical masthead center aligned segment"'</span>],(config.hitokoto ? el(<span class="string">'div'</span>,[<span class="string">'id="nav"'</span>,<span class="string">'class="ui container"'</span>],nav) : <span class="string">""</span>) + el(<span class="string">'div'</span>,[<span class="string">'id="title"'</span>,<span class="string">'class="ui text container"'</span>],title + (config.search ? input + menu :<span class="string">""</span>) + <span class="string">`<span class="subst">$&#123;config.selling_ads ? <span class="string">'&lt;div&gt;&lt;a id="menubtn" class="red ui icon inverted button"&gt;&lt;i class="heart icon"&gt;&lt;/i&gt; å–œæ¬¢æ­¤åŸŸå &lt;/a&gt;&lt;/div&gt;'</span> : <span class="string">''</span>&#125;</span>`</span>)))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">renderMain</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> main = config.lists.map(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> card = <span class="function">(<span class="params">url,name,desc</span>)=&gt;</span> el(<span class="string">'a'</span>,[<span class="string">'class="card"'</span>,<span class="string">`href=<span class="subst">$&#123;url&#125;</span>`</span>,<span class="string">'target="_blank"'</span>],el(<span class="string">'div'</span>,[<span class="string">'class="content"'</span>],el(<span class="string">'img'</span>,[<span class="string">'class="left floated avatar ui image"'</span>,<span class="string">`src=<span class="subst">$&#123;getFavicon(url)&#125;</span>`</span>],<span class="string">""</span>) + el(<span class="string">'div'</span>,[<span class="string">'class="header"'</span>],name) + el(<span class="string">'div'</span>,[<span class="string">'class="meta"'</span>],desc)));</span><br><span class="line">    <span class="keyword">const</span> divider = el(<span class="string">'h4'</span>,[<span class="string">'class="ui horizontal divider header"'</span>],el(<span class="string">'i'</span>,[<span class="string">`class="<span class="subst">$&#123;item.icon&#125;</span> icon"`</span>],<span class="string">""</span>)+item.name);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> content = el(<span class="string">'div'</span>,[<span class="string">'class="ui four stackable cards"'</span>],item.list.map(<span class="function">(<span class="params">link</span>) =&gt;</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> card(link.url,link.name,link.desc);</span><br><span class="line">    &#125;).join(<span class="string">""</span>));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> el(<span class="string">'div'</span>,[<span class="string">'class="ui basic segment"'</span>],divider + content);</span><br><span class="line">  &#125;).join(<span class="string">""</span>);</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> el(<span class="string">'main'</span>,[],el(<span class="string">'div'</span>,[<span class="string">'class="ui container"'</span>],main));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">renderSeller</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> item = <span class="function">(<span class="params">type,content</span>) =&gt;</span> el(<span class="string">'div'</span>,[<span class="string">'class="item"'</span>],el(<span class="string">'i'</span>,[<span class="string">`class="<span class="subst">$&#123;type&#125;</span> icon"`</span>],<span class="string">""</span>) + el(<span class="string">'div'</span>,[<span class="string">'class="content"'</span>],content));</span><br><span class="line">  <span class="keyword">var</span> title = el(<span class="string">'h1'</span>,[<span class="string">'class="ui yellow dividing header"'</span>],el(<span class="string">'i'</span>,[<span class="string">'class="gem outline icon"'</span>],<span class="string">""</span>) + el(<span class="string">'div'</span>,[<span class="string">'class="content"'</span>],config.sell_info.domain + <span class="string">' æ­£åœ¨å‡ºå”®'</span>));</span><br><span class="line">  <span class="keyword">var</span> action = el(<span class="string">'div'</span>,[<span class="string">'class="actions"'</span>],el(<span class="string">'div'</span>,[<span class="string">'class="ui basic cancel inverted button"'</span>],el(<span class="string">'i'</span>,[<span class="string">'class="reply icon"'</span>],<span class="string">""</span>) + <span class="string">'è¿”å›'</span>));</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> contact = config.sell_info.contact.map(<span class="function">(<span class="params">list</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> item(list.type,list.content);</span><br><span class="line">  &#125;).join(<span class="string">""</span>);</span><br><span class="line">  <span class="keyword">var</span> column = el(<span class="string">'div'</span>,[<span class="string">'class="column"'</span>],el(<span class="string">'h3'</span>,[<span class="string">'class="ui center aligned icon inverted header"'</span>],el(<span class="string">'i'</span>,[<span class="string">'class="circular envelope open outline grey inverted icon"'</span>],<span class="string">""</span>) + <span class="string">'è”ç³»æˆ‘'</span>) + el(<span class="string">'div'</span>,[<span class="string">'class="ui relaxed celled large list"'</span>],contact));</span><br><span class="line">  <span class="keyword">var</span> price = el(<span class="string">'div'</span>,[<span class="string">'class="column"'</span>],el(<span class="string">'div'</span>,[<span class="string">'class="ui large yellow statistic"'</span>],el(<span class="string">'div'</span>,[<span class="string">'class="value"'</span>],el(<span class="string">'i'</span>,[<span class="string">`class="<span class="subst">$&#123;config.sell_info.mon_unit&#125;</span> icon"`</span>],<span class="string">""</span>) + config.sell_info.price)));</span><br><span class="line">  <span class="keyword">var</span> content = el(<span class="string">'div'</span>,[<span class="string">'class="content"'</span>],el(<span class="string">'div'</span>,[<span class="string">'class="ui basic segment"'</span>],el(<span class="string">'div'</span>,[<span class="string">'class="ui two column stackable center aligned grid"'</span>],el(<span class="string">'div'</span>,[<span class="string">'class="ui inverted vertical divider"'</span>],<span class="string">'æ„Ÿå…´è¶£ï¼Ÿ'</span>) + el(<span class="string">'div'</span>,[<span class="string">'class="middle aligned row"'</span>],price + column))));</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> el(<span class="string">'div'</span>,[<span class="string">'id="seller"'</span>,<span class="string">'class="ui basic modal"'</span>],title + content + action);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">renderHTML</span>(<span class="params">index,seller</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">`&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="string">  &lt;html lang="en"&gt;</span></span><br><span class="line"><span class="string">  &lt;head&gt;</span></span><br><span class="line"><span class="string">      &lt;meta charset="UTF-8"&gt;</span></span><br><span class="line"><span class="string">      &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;</span></span><br><span class="line"><span class="string">      &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt;</span></span><br><span class="line"><span class="string">      &lt;title&gt;<span class="subst">$&#123;config.title&#125;</span> - <span class="subst">$&#123;config.subtitle&#125;</span>&lt;/title&gt;</span></span><br><span class="line"><span class="string">      &lt;link href="https://cdn.jsdelivr.net/npm/semantic-ui-css@2.4.1/semantic.min.css" rel="stylesheet"&gt;</span></span><br><span class="line"><span class="string">      &lt;link href="https://cdn.jsdelivr.net/gh/sleepwood/cf-worker-dir@0.1.1/style.css" rel="stylesheet"&gt;</span></span><br><span class="line"><span class="string">      &lt;script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string">      &lt;script src="https://cdn.jsdelivr.net/npm/semantic-ui-css@2.4.1/semantic.min.js"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string">  &lt;/head&gt;</span></span><br><span class="line"><span class="string">  &lt;body&gt;</span></span><br><span class="line"><span class="string">    <span class="subst">$&#123;index&#125;</span></span></span><br><span class="line"><span class="string">    <span class="subst">$&#123;config.selling_ads ? seller : <span class="string">''</span>&#125;</span></span></span><br><span class="line"><span class="string">    &lt;script src="https://v1.hitokoto.cn/?encode=js&amp;select=%23hitokoto" defer&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string">    &lt;script&gt;</span></span><br><span class="line"><span class="string">      $('#sengine a').on('click', function (e) &#123;</span></span><br><span class="line"><span class="string">        $('#sengine a.active').toggleClass('active');</span></span><br><span class="line"><span class="string">        $(e.target).toggleClass('active');</span></span><br><span class="line"><span class="string">        $('#search-fav').attr('src',$(e.target).data('url').match(`</span>+<span class="regexp">/https&#123;0,1&#125;:\/\/\S+\//</span>+<span class="string">`)[0] + '/favicon.ico') ;</span></span><br><span class="line"><span class="string">      &#125;);</span></span><br><span class="line"><span class="string">      $('.search').on('click', function (e) &#123;</span></span><br><span class="line"><span class="string">          var url = $('#sengine a.active').data('url');</span></span><br><span class="line"><span class="string">          url = url.replace(`</span>+<span class="regexp">/\$s/</span>+<span class="string">`,$('#searchinput').val());</span></span><br><span class="line"><span class="string">          window.open(url);</span></span><br><span class="line"><span class="string">      &#125;);</span></span><br><span class="line"><span class="string">      /* é¼ æ ‡èšç„¦æ—¶ï¼Œå›è½¦äº‹ä»¶ */</span></span><br><span class="line"><span class="string">      $("#searchinput").bind("keypress", function()&#123;</span></span><br><span class="line"><span class="string">          if (event.keyCode == 13)&#123;</span></span><br><span class="line"><span class="string">          // è§¦å‘éœ€è¦è°ƒç”¨çš„æ–¹æ³•</span></span><br><span class="line"><span class="string">          $(".search").click();</span></span><br><span class="line"><span class="string">          &#125;</span></span><br><span class="line"><span class="string">      &#125;);</span></span><br><span class="line"><span class="string">      $('#menubtn').on('click', function (e) &#123;</span></span><br><span class="line"><span class="string">          $('#seller').modal('show');</span></span><br><span class="line"><span class="string">      &#125;);</span></span><br><span class="line"><span class="string">    &lt;/script&gt;</span></span><br><span class="line"><span class="string">  &lt;/body&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  &lt;/html&gt;`</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</div></div>
<p>è¯¦ç»†æ­¥éª¤è§:<a href="https://url.cn/06D9xM3j" target="_blank" rel="noopener">https://url.cn/06D9xM3j</a><br>æœ€ç»ˆæ•ˆæœå¦‚å›¾â†“<br><img data-src="https://cdn.jsdelivr.net/gh/ravizhan/ravizhan.github.io/posts/cf-workers/workers-dir.jpg" width = "60%" /></p>
<p>æœªå®Œå¾…ç»­â€¦.</p>
]]></content>
      <tags>
        <tag>Cloudflare</tag>
      </tags>
  </entry>
  <entry>
    <title>luogu-T100</title>
    <url>/posts/luogu-T100.html</url>
    <content><![CDATA[<h1 id="T100-ã€å…¥é—¨1ã€‘é¡ºåºç»“æ„"><a href="#T100-ã€å…¥é—¨1ã€‘é¡ºåºç»“æ„" class="headerlink" title="T100 -ã€å…¥é—¨1ã€‘é¡ºåºç»“æ„"></a>T100 -ã€å…¥é—¨1ã€‘é¡ºåºç»“æ„</h1><p><a href="https://www.luogu.com.cn/training/100" target="_blank" rel="noopener">https://www.luogu.com.cn/training/100</a></p>
<blockquote>
<p>æ³¨ï¼šæœ¬æ–‡ä»£ç å‡ä¸º<strong>python</strong><br>æœ¬æ–‡ä»£ç å‡ä¸ºè‡ªå·±å†™çš„ï¼Œä¸å­˜åœ¨æŠ„è¢­<br>æœ¬æ–‡æ‰€æœ‰ä»£ç ä»…ä¾›å‚è€ƒï¼ŒæŠ„è¢­åæœè‡ªè´Ÿ</p>
</blockquote>
<h2 id="P1001-A-B-Problem"><a href="#P1001-A-B-Problem" class="headerlink" title="P1001     A+B Problem"></a>P1001     A+B Problem</h2><blockquote>
<p><a href="https://www.luogu.com.cn/problem/P1001" target="_blank" rel="noopener">https://www.luogu.com.cn/problem/P1001</a></p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">s = input().split()</span><br><span class="line">print(int(s[<span class="number">0</span>]) + int(s[<span class="number">1</span>]))</span><br></pre></td></tr></table></figure>

<h2 id="P1000-è¶…çº§ç›ä¸½æ¸¸æˆ"><a href="#P1000-è¶…çº§ç›ä¸½æ¸¸æˆ" class="headerlink" title="P1000 è¶…çº§ç›ä¸½æ¸¸æˆ"></a>P1000 è¶…çº§ç›ä¸½æ¸¸æˆ</h2><blockquote>
<p><a href="https://www.luogu.com.cn/problem/P1000" target="_blank" rel="noopener">https://www.luogu.com.cn/problem/P1000</a></p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(<span class="string">'''                ********</span></span><br><span class="line"><span class="string">               ************</span></span><br><span class="line"><span class="string">               ####....#.</span></span><br><span class="line"><span class="string">             #..###.....##....</span></span><br><span class="line"><span class="string">             ###.......######              ###            ###</span></span><br><span class="line"><span class="string">                ...........               #...#          #...#</span></span><br><span class="line"><span class="string">               ##*#######                 #.#.#          #.#.#</span></span><br><span class="line"><span class="string">            ####*******######             #.#.#          #.#.#</span></span><br><span class="line"><span class="string">           ...#***.****.*###....          #...#          #...#</span></span><br><span class="line"><span class="string">           ....**********##.....           ###            ###</span></span><br><span class="line"><span class="string">           ....****    *****....</span></span><br><span class="line"><span class="string">             ####        ####</span></span><br><span class="line"><span class="string">           ######        ######</span></span><br><span class="line"><span class="string">##############################################################</span></span><br><span class="line"><span class="string">#...#......#.##...#......#.##...#......#.##------------------#</span></span><br><span class="line"><span class="string">###########################################------------------#</span></span><br><span class="line"><span class="string">#..#....#....##..#....#....##..#....#....#####################</span></span><br><span class="line"><span class="string">##########################################    #----------#</span></span><br><span class="line"><span class="string">#.....#......##.....#......##.....#......#    #----------#</span></span><br><span class="line"><span class="string">##########################################    #----------#</span></span><br><span class="line"><span class="string">#.#..#....#..##.#..#....#..##.#..#....#..#    #----------#</span></span><br><span class="line"><span class="string">##########################################    ############'''</span>)</span><br></pre></td></tr></table></figure>
<p>è¿™é“é¢˜è¦ç‰¹åˆ«æ³¨æ„<strong>æ ¼å¼</strong>(æˆ‘è¯•äº†äº”å…­æ¬¡æ‰è¿‡ã€‚ã€‚ã€‚)</p>
<h2 id="P5703-ã€æ·±åŸº2-ä¾‹5ã€‘è‹¹æœé‡‡è´­"><a href="#P5703-ã€æ·±åŸº2-ä¾‹5ã€‘è‹¹æœé‡‡è´­" class="headerlink" title="P5703 ã€æ·±åŸº2.ä¾‹5ã€‘è‹¹æœé‡‡è´­"></a>P5703 ã€æ·±åŸº2.ä¾‹5ã€‘è‹¹æœé‡‡è´­</h2><blockquote>
<p><a href="https://www.luogu.com.cn/problem/P5703" target="_blank" rel="noopener">https://www.luogu.com.cn/problem/P5703</a></p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line">n = input(<span class="string">''</span>).split(<span class="string">' '</span>)</span><br><span class="line">pattern = re.compile(<span class="string">r'\.'</span>)</span><br><span class="line"><span class="keyword">if</span> re.search(pattern,n[<span class="number">0</span>]) <span class="keyword">or</span> re.search(pattern,n[<span class="number">1</span>]):</span><br><span class="line">    print(<span class="string">'only support the number that without "."'</span>)</span><br><span class="line"><span class="keyword">elif</span> int(n[<span class="number">0</span>])&lt;<span class="number">0</span> <span class="keyword">or</span> int(n[<span class="number">1</span>])&lt;<span class="number">0</span>:</span><br><span class="line">    print(<span class="string">'only support the Non-negative integer'</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    res = int(n[<span class="number">0</span>]) * int(n[<span class="number">1</span>])</span><br><span class="line">    print(res)</span><br></pre></td></tr></table></figure>
<h2 id="P5704-ã€æ·±åŸº2-ä¾‹6ã€‘å­—æ¯è½¬æ¢"><a href="#P5704-ã€æ·±åŸº2-ä¾‹6ã€‘å­—æ¯è½¬æ¢" class="headerlink" title="P5704 ã€æ·±åŸº2.ä¾‹6ã€‘å­—æ¯è½¬æ¢"></a>P5704 ã€æ·±åŸº2.ä¾‹6ã€‘å­—æ¯è½¬æ¢</h2><blockquote>
<p><a href="https://www.luogu.com.cn/problem/P5704" target="_blank" rel="noopener">https://www.luogu.com.cn/problem/P5704</a></p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">cloum = input(<span class="string">''</span>)</span><br><span class="line">print(cloum.upper())</span><br></pre></td></tr></table></figure>
<h2 id="P5705-ã€æ·±åŸº2-ä¾‹7ã€‘æ•°å­—åè½¬"><a href="#P5705-ã€æ·±åŸº2-ä¾‹7ã€‘æ•°å­—åè½¬" class="headerlink" title="P5705 ã€æ·±åŸº2.ä¾‹7ã€‘æ•°å­—åè½¬"></a>P5705 ã€æ·±åŸº2.ä¾‹7ã€‘æ•°å­—åè½¬</h2><blockquote>
<p> <a href="https://www.luogu.com.cn/problem/P5705" target="_blank" rel="noopener">https://www.luogu.com.cn/problem/P5705</a></p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">in_num = input(<span class="string">''</span>)</span><br><span class="line">print(float(<span class="string">''</span>.join(reversed(in_num))))</span><br></pre></td></tr></table></figure>
<h2 id="P5706-ã€æ·±åŸº2-ä¾‹8ã€‘å†åˆ†è‚¥å®…æ°´"><a href="#P5706-ã€æ·±åŸº2-ä¾‹8ã€‘å†åˆ†è‚¥å®…æ°´" class="headerlink" title="P5706 ã€æ·±åŸº2.ä¾‹8ã€‘å†åˆ†è‚¥å®…æ°´"></a>P5706 ã€æ·±åŸº2.ä¾‹8ã€‘å†åˆ†è‚¥å®…æ°´</h2><blockquote>
<p> <a href="https://www.luogu.com.cn/problem/P5706" target="_blank" rel="noopener">https://www.luogu.com.cn/problem/P5706</a></p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">in_num = input(<span class="string">''</span>).split()</span><br><span class="line">pre_student_cups = int(in_num[<span class="number">1</span>])*<span class="number">2</span></span><br><span class="line">pre_student = float(in_num[<span class="number">0</span>])/int(in_num[<span class="number">1</span>])</span><br><span class="line">print(<span class="string">'%.3f\n%s'</span> % (pre_student,str(pre_student_cups)))</span><br></pre></td></tr></table></figure>
<h2 id="P1425-å°é±¼çš„æ¸¸æ³³æ—¶é—´"><a href="#P1425-å°é±¼çš„æ¸¸æ³³æ—¶é—´" class="headerlink" title="P1425 å°é±¼çš„æ¸¸æ³³æ—¶é—´"></a>P1425 å°é±¼çš„æ¸¸æ³³æ—¶é—´</h2><blockquote>
<p> <a href="https://www.luogu.com.cn/problem/P1425" target="_blank" rel="noopener">https://www.luogu.com.cn/problem/P1425</a></p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">start_time = input(<span class="string">''</span>).split()</span><br><span class="line">e = int(start_time[<span class="number">2</span>])-int(start_time[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> int(start_time[<span class="number">3</span>])&lt;int(start_time[<span class="number">1</span>]):</span><br><span class="line">    e -= <span class="number">1</span></span><br><span class="line">    f = int(start_time[<span class="number">3</span>])+<span class="number">60</span>-int(start_time[<span class="number">1</span>])</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    f = int(start_time[<span class="number">3</span>]) - int(start_time[<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">print(str(e)+<span class="string">' '</span>+str(f))</span><br></pre></td></tr></table></figure>
<h2 id="P2433-ã€æ·±åŸº1-2ã€‘å°å­¦æ•°å­¦-N-åˆä¸€"><a href="#P2433-ã€æ·±åŸº1-2ã€‘å°å­¦æ•°å­¦-N-åˆä¸€" class="headerlink" title="P2433 ã€æ·±åŸº1-2ã€‘å°å­¦æ•°å­¦ N åˆä¸€"></a>P2433 ã€æ·±åŸº1-2ã€‘å°å­¦æ•°å­¦ N åˆä¸€</h2><blockquote>
<p><a href="https://www.luogu.com.cn/problem/P2433" target="_blank" rel="noopener">https://www.luogu.com.cn/problem/P2433</a></p>
</blockquote>
<figure class="highlight gcode"><table><tr><td class="code"><pre><span class="line">è«å¾—<span class="comment">(è¿˜åœ¨è§£é¢˜ä¸­...)</span></span><br></pre></td></tr></table></figure>
<h2 id="P5708-ã€æ·±åŸº2-ä¹ 2ã€‘ä¸‰è§’å½¢é¢ç§¯"><a href="#P5708-ã€æ·±åŸº2-ä¹ 2ã€‘ä¸‰è§’å½¢é¢ç§¯" class="headerlink" title="P5708 ã€æ·±åŸº2.ä¹ 2ã€‘ä¸‰è§’å½¢é¢ç§¯"></a>P5708 ã€æ·±åŸº2.ä¹ 2ã€‘ä¸‰è§’å½¢é¢ç§¯</h2><blockquote>
<p><a href="https://www.luogu.com.cn/problem/P5708" target="_blank" rel="noopener">https://www.luogu.com.cn/problem/P5708</a></p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">nums = input(<span class="string">''</span>).split(<span class="string">' '</span>)</span><br><span class="line">s = <span class="number">0.0</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, len(nums)):</span><br><span class="line">    nums[i] = float(nums[i])</span><br><span class="line">    s = s+nums[i]</span><br><span class="line">s = s/<span class="number">2</span></span><br><span class="line">a,b,c = nums[<span class="number">0</span>],nums[<span class="number">1</span>],nums[<span class="number">2</span>]</span><br><span class="line">area = (s*(s-a)*(s-b)*(s-c)) ** <span class="number">0.5</span></span><br><span class="line">print(round(area,<span class="number">1</span>))</span><br></pre></td></tr></table></figure>
<h2 id="P1421-å°ç‰ä¹°æ–‡å…·"><a href="#P1421-å°ç‰ä¹°æ–‡å…·" class="headerlink" title="P1421 å°ç‰ä¹°æ–‡å…·"></a>P1421 å°ç‰ä¹°æ–‡å…·</h2><blockquote>
<p><a href="https://www.luogu.com.cn/problem/P1421" target="_blank" rel="noopener">https://www.luogu.com.cn/problem/P1421</a></p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">money = input(<span class="string">''</span>).split(<span class="string">' '</span>)</span><br><span class="line">a,b = int(money[<span class="number">0</span>]),int(money[<span class="number">1</span>])</span><br><span class="line">res = (<span class="number">10</span>*a+b)/<span class="number">19</span></span><br><span class="line">print(int(res))</span><br></pre></td></tr></table></figure>
<h2 id="P5709-ã€æ·±åŸº2-ä¹ 6ã€‘Apples-Prologue"><a href="#P5709-ã€æ·±åŸº2-ä¹ 6ã€‘Apples-Prologue" class="headerlink" title="P5709 ã€æ·±åŸº2.ä¹ 6ã€‘Apples Prologue"></a>P5709 ã€æ·±åŸº2.ä¹ 6ã€‘Apples Prologue</h2><blockquote>
<p><a href="https://www.luogu.com.cn/problem/P5709" target="_blank" rel="noopener">https://www.luogu.com.cn/problem/P5709</a></p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">nums = input(<span class="string">''</span>).split(<span class="string">' '</span>)</span><br><span class="line">m,t,s = int(nums[<span class="number">0</span>]),int(nums[<span class="number">1</span>]),int(nums[<span class="number">2</span>])</span><br><span class="line">res = int(m-(s/t))</span><br><span class="line"><span class="keyword">if</span> res &lt; <span class="number">0</span>:</span><br><span class="line">    res = <span class="number">0</span></span><br><span class="line">print(res)</span><br></pre></td></tr></table></figure>
<h2 id="P2181-å¯¹è§’çº¿"><a href="#P2181-å¯¹è§’çº¿" class="headerlink" title="P2181 å¯¹è§’çº¿"></a>P2181 å¯¹è§’çº¿</h2><blockquote>
<p><a href="https://www.luogu.com.cn/problem/P2181" target="_blank" rel="noopener">https://www.luogu.com.cn/problem/P2181</a></p>
</blockquote>
<figure class="highlight erlang"><table><tr><td class="code"><pre><span class="line">è¿˜æ˜¯è«å¾—...</span><br></pre></td></tr></table></figure>


<h1 id="ä½œè€…çš„è¯"><a href="#ä½œè€…çš„è¯" class="headerlink" title="ä½œè€…çš„è¯"></a>ä½œè€…çš„è¯</h1><p>emmmâ€¦.. æ³¨é‡Šä»€ä¹ˆçš„ï¼Œæœ‰æ—¶é—´å†å†™å§<br>æœ‰ä¸æ˜ç™½çš„å¯ä»¥é—®æˆ‘</p>
]]></content>
      <tags>
        <tag>æ´›è°·</tag>
      </tags>
  </entry>
  <entry>
    <title>Sublimeä½¿ç”¨å…¨æ”»ç•¥</title>
    <url>/posts/Sublime.html</url>
    <content><![CDATA[<h2 id="ä¸‹è½½-amp-å®‰è£…"><a href="#ä¸‹è½½-amp-å®‰è£…" class="headerlink" title="ä¸‹è½½&amp;å®‰è£…"></a>ä¸‹è½½&amp;å®‰è£…</h2><h3 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h3><p><a href="http://www.sublimetext.cn/" target="_blank" rel="noopener"><strong>å®˜ç½‘</strong></a> <a href="https://down.ravi.cool/#/1/main/sublime" target="_blank" rel="noopener"><strong>æˆ‘çš„ä¸‹è½½ç«™</strong></a></p>
<a id="more"></a>
<h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><p>æœ‰æ‰‹å°±è¡Œã€‚ã€‚ã€‚<br>è¿™éƒ½ä¸ä¼šï¼Œé‚£å°±ä¸ç”¨å¾€ä¸‹çœ‹äº†</p>
<h2 id="æ¿€æ´»"><a href="#æ¿€æ´»" class="headerlink" title="æ¿€æ´»"></a>æ¿€æ´»</h2><p>æ²¡æ¿€æ´»ä¹Ÿèƒ½ç”¨ï¼Œä½†æ˜¯ä¼šä¸æ—¶å¼¹å‡ºæ¿€æ´»æç¤º<br>æœ¬äººå¼ºè¿«ç—‡ï¼Œæ‰€ä»¥ğŸ‘‡</p>
<figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">----- BEGIN LICENSE -----</span><br><span class="line">Member J2TeaM</span><br><span class="line">Single User License</span><br><span class="line">EA7E<span class="number">-1011316</span></span><br><span class="line">D7DA350E <span class="number">1</span>B8B0760 <span class="number">972</span>F8B60 F3E64036</span><br><span class="line">B9B4E234 F356F38F <span class="number">0</span>AD1E3B7 <span class="number">0E9</span>C5FAD</span><br><span class="line">FA0A2ABE <span class="number">25</span>F65BD8 D51458E5 <span class="number">3923</span>CE80</span><br><span class="line"><span class="number">87428428</span> <span class="number">79079</span>A01 AA69F319 A1AF29A4</span><br><span class="line">A684C2DC <span class="number">0</span>B1583D4 <span class="number">19</span>CBD290 <span class="number">217618</span>CD</span><br><span class="line"><span class="number">5653E0</span>A0 BACE3948 BB2EE45E <span class="number">422</span>D2C87</span><br><span class="line">DD9AF44B <span class="number">99</span>C49590 D2DBDEE1 <span class="number">75860</span>FD2</span><br><span class="line"><span class="number">8</span>C8BB2AD B2ECE5A4 EFC08AF2 <span class="number">25</span>A9B864</span><br><span class="line">------ END LICENSE ------â€‹</span><br></pre></td></tr></table></figure>
<img data-src="https://cdn.jsdelivr.net/gh/ravizhan/ravizhan.github.io@master/posts/Sublime/license.gif" width = "60%" />

<h2 id="è®¾ç½®ä¸­æ–‡-æ±‰åŒ–"><a href="#è®¾ç½®ä¸­æ–‡-æ±‰åŒ–" class="headerlink" title="è®¾ç½®ä¸­æ–‡(æ±‰åŒ–)"></a>è®¾ç½®ä¸­æ–‡(æ±‰åŒ–)</h2><p>å®‰è£…æ’ä»¶æ§åˆ¶é¢æ¿<code>Tools -&gt; Install Package Control</code><br>å®‰è£…æœ‰ç‚¹æ…¢ï¼Œåœ¨å·¦ä¸‹è§’æœ‰æç¤º<br><img data-src="https://cdn.jsdelivr.net/gh/ravizhan/ravizhan.github.io@master/posts/Sublime/ipc.jpg" width = "60%" /><br>ç‚¹å‡»<code>Preferences -&gt; Package Control</code><br><img data-src="https://cdn.jsdelivr.net/gh/ravizhan/ravizhan.github.io@master/posts/Sublime/pc.jpg" width = "60%" /><br>åœ¨å¼¹å‡ºçš„çª—å£ä¸­ç‚¹å‡»<code>Package Control: Install Package</code><br><img data-src="https://cdn.jsdelivr.net/gh/ravizhan/ravizhan.github.io@master/posts/Sublime/ip.jpg" width = "60%" /><br>å†åœ¨å¼¹å‡ºçš„çª—å£ä¸­ï¼Œè¾“å…¥<code>clz</code>ï¼Œç‚¹å‡»<code>ChineseLocalizations</code><br><img data-src="https://cdn.jsdelivr.net/gh/ravizhan/ravizhan.github.io@master/posts/Sublime/clz.jpg" width = "60%" /><br>ç­‰å¾…å®‰è£…å®Œæˆï¼Œ<strong>å¤§åŠŸå‘Šæˆ</strong></p>
<p>å®Œæ•´æ¼”ç¤ºğŸ‘‡<br><img data-src="https://cdn.jsdelivr.net/gh/ravizhan/ravizhan.github.io@master/posts/Sublime/all.gif" width = "60%" /></p>
<h2 id="ç¼–å†™Markdownè®¾ç½®"><a href="#ç¼–å†™Markdownè®¾ç½®" class="headerlink" title="ç¼–å†™Markdownè®¾ç½®"></a>ç¼–å†™Markdownè®¾ç½®</h2><h3 id="MarkdownPreview"><a href="#MarkdownPreview" class="headerlink" title="MarkdownPreview"></a>MarkdownPreview</h3><p>æŒ‰ç…§ä¸Šé¢çš„æ–¹æ³•ï¼Œåœ¨<code>Package Control: Install Package</code>ä¸­å®‰è£…<code>MarkdownPreview</code></p>
<h4 id="ç”¨æµè§ˆå™¨é¢„è§ˆ"><a href="#ç”¨æµè§ˆå™¨é¢„è§ˆ" class="headerlink" title="ç”¨æµè§ˆå™¨é¢„è§ˆ"></a>ç”¨æµè§ˆå™¨é¢„è§ˆ</h4><h5 id="å¸¸è§„æ–¹æ³•"><a href="#å¸¸è§„æ–¹æ³•" class="headerlink" title="å¸¸è§„æ–¹æ³•"></a>å¸¸è§„æ–¹æ³•</h5><p>1.ç»„åˆé”® <code>Ctrl+Shift+P</code> è°ƒå‡ºå‘½ä»¤é¢æ¿<br>2.è¾“å…¥mdpæ‰¾åˆ°å¹¶é€‰ä¸­Markdown Previewï¼š Preview in Browser<br>3.å‡ºç°ä¸‰ä¸ªé€‰é¡¹ï¼š<code>github</code> <code>gitlab</code> <code>markdown</code> ä»»é€‰å…¶ä¸€å³å¯<br><img data-src="https://cdn.jsdelivr.net/gh/ravizhan/ravizhan.github.io@master/posts/Sublime/mdp.jpg" width = "60%" /><br>4.é»˜è®¤æµè§ˆå™¨ä¸­æ˜¾ç¤ºé¢„è§ˆç»“æœ</p>
<h5 id="ç”¨å¿«æ·é”®æ‰“å¼€"><a href="#ç”¨å¿«æ·é”®æ‰“å¼€" class="headerlink" title="ç”¨å¿«æ·é”®æ‰“å¼€"></a>ç”¨å¿«æ·é”®æ‰“å¼€</h5><p>è®¾ç½®å¿«æ·é”®ï¼šæ‰“å¼€<code>é¦–é€‰é¡¹ -&gt; å¿«æ·é”®è®¾ç½®</code><br>åœ¨å³è¾¹çš„ä¸­æ‹¬å·å†…è¾“å…¥</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123; <span class="attr">"keys"</span>: [<span class="string">"alt+m"</span>],</span><br><span class="line"><span class="attr">"command"</span>: <span class="string">"markdown_preview"</span>,</span><br><span class="line"><span class="attr">"args"</span>: &#123;<span class="attr">"target"</span>: <span class="string">"browser"</span>, <span class="attr">"parser"</span>:<span class="string">"markdown"</span>&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>alt+m</code> å¯è®¾ç½®ä¸ºè‡ªå·±å–œæ¬¢çš„æŒ‰é”®<br><code>markdown</code> ä¹Ÿå¯è®¾ç½®ä¸º <code>github</code>æˆ–<code>gitlab</code></p>
</blockquote>
<p>ç„¶åæŒ‰ä¸‹<code>alt+m</code>å°±å¯ä»¥åœ¨é»˜è®¤æµè§ˆå™¨é‡ŒæŸ¥çœ‹é¢„è§ˆå•¦</p>
<blockquote>
<p>ä½†æ˜¯ä¸Šé¢çš„æ–¹æ³•éƒ½å¾ˆç¹çï¼Œç„¶è€Œåƒæˆ‘è¿™ç§æ‡’äººæ€ä¹ˆä¼šç”¨å‘¢(å˜¿å˜¿å˜¿)<br>æ‰€ä»¥å°±æœ‰äº†ä¸‹é¢çš„<code>LiveReload</code></p>
</blockquote>
<h3 id="LiveReload"><a href="#LiveReload" class="headerlink" title="LiveReload"></a>LiveReload</h3><p>ä¸€æ ·çš„åœ¨<code>Package Control</code>ä¸­å®‰è£…<code>LiveReload</code><br>æ‰“å¼€é…ç½®æ–‡ä»¶ <code>é¦–é€‰é¡¹-&gt; Package Settings -&gt; Markdown Preview -&gt; Settings</code></p>
<img data-src="https://cdn.jsdelivr.net/gh/ravizhan/ravizhan.github.io@master/posts/Sublime/markdown-setting.jpg" width = "60%" />
åœ¨å³è¾¹åŠ ä¸€æ¡ä¸‹é¢è¿™ä¸ª,ä¿å­˜åé‡å¯Sublime
> `"enable_autoreload": true`

<p>ç„¶å<code>Ctrl+Shift+P</code> è¾“å…¥<code>LiveReload: Enable/disable plug-ins</code>,<br>å›è½¦, é€‰æ‹© <code>Simple Reload with delay (400ms)</code>æˆ–è€…<code>Simple Reload</code>ï¼Œ<br>ä¸¤è€…çš„åŒºåˆ«åœ¨äºåè€…æ²¡æœ‰å»¶è¿Ÿã€‚<br><img data-src="https://cdn.jsdelivr.net/gh/ravizhan/ravizhan.github.io@master/posts/Sublime/reload.jpg" width = "60%" /></p>
<blockquote>
<p>è¿™é‡Œåˆæœ‰ä¸€ä¸ªé—®é¢˜äº†ï¼Œæ¯æ¬¡éƒ½è¦<code>Ctrl+S</code>ä¿å­˜ï¼Œå²‚ä¸æ˜¯å¾ˆéº»çƒ¦<br>æ‰€ä»¥å°±æœ‰äº†è‡ªåŠ¨ä¿å­˜åŠŸèƒ½</p>
</blockquote>
<h3 id="è‡ªåŠ¨ä¿å­˜"><a href="#è‡ªåŠ¨ä¿å­˜" class="headerlink" title="è‡ªåŠ¨ä¿å­˜"></a>è‡ªåŠ¨ä¿å­˜</h3><p>æ‰“å¼€<code>é¦–é€‰é¡¹ -&gt; è®¾ç½®</code></p>
<img data-src="https://cdn.jsdelivr.net/gh/ravizhan/ravizhan.github.io@master/posts/Sublime/setting.jpg" width = "60%" />
åœ¨å³è¾¹æ·»åŠ `"save_on_focus_lost": true`
> æ³¨æ„ï¼šè¦å…ˆåœ¨ä¸Šé¢çš„ä¸­æ‹¬å·åé¢åŠ ä¸Šé€—å·

<img data-src="https://cdn.jsdelivr.net/gh/ravizhan/ravizhan.github.io@master/posts/Sublime/add.jpg" width = "60%" />
è¿™æ ·å½“ä½ çš„é¼ æ ‡ç‚¹å‡»Sublimeä»¥å¤–çš„åœ°æ–¹ï¼Œæ–‡ä»¶å°±ä¼šè‡ªåŠ¨ä¿å­˜å•¦

<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>è¿™ç¯‡æ–‡ç« å°±å…ˆå†™åˆ°è¿™ï¼Œå¸Œæœ›å¯¹ä½ ä»¬èƒ½æœ‰æ‰€å¸®åŠ©</p>
]]></content>
      <tags>
        <tag>tools</tag>
      </tags>
  </entry>
  <entry>
    <title>hello world</title>
    <url>/posts/hello-world.html</url>
    <content><![CDATA[<p>hello world!<br>è¿™æ˜¯ç¬¬ä¸€ç¯‡æ–‡ç« </p>
]]></content>
  </entry>
</search>
